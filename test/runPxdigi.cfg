process ProcessPixelDigitizer = {

	source = PoolSource { 
          untracked vstring fileNames = {'file:simevent.root'}
          untracked int32 maxEvents      = -1
          untracked uint32 debugVebosity = 100
          untracked bool   debugFlag     = true
	}

  # Initialize magnetic field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  # Fill CMS Geometry
  # include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"
  # Tracker SimGeometryXML
  include "Geometry/TrackerSimData/data/trackerSimGeometryXML.cfi"

 
  # Tracker Geometry Builder
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

  # Tracker Numbering Builder
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

  # PixelDigitizer
  include "SimTracker/SiPixelDigitizer/data/PixelDigi.cfi"

       service = MessageLogger {  
              untracked vstring destinations   = { "debugmessages.txt" }
              untracked PSet debugmessages.txt = { untracked string threshold = "INFO"}
              untracked vstring debugModules={"pixdigi"}
       }

       module out = PoolOutputModule {
              untracked string fileName = 'pixdigi.root'
       }

       path p = {pixdigi}
       endpath outpath = { out }
}
